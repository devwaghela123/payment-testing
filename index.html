<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Ensures the design scales properly on mobile -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Swipe Cards Demo</title>
  <style>
    /* Reset some basic styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    /* Body with a light background and mobile-friendly settings */
    body {
      background: #f7f7f7;
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      overflow: hidden;
      position: relative;
      height: 100vh;
    }
    /* Container to hold all the swipe cards */
    #card-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    /* Styling for each profile card */
    .card {
      position: absolute;
      width: 90%;
      max-width: 400px;
      height: 70vh;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-size: cover;
      background-position: center;
      border-radius: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    }
    /* A gradient overlay at the bottom for text readability */
    .card::before {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 40%;
      background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
      z-index: 1;
    }
    /* Profile info (name, age) positioned at the bottom */
    .card .info {
      position: absolute;
      bottom: 20px;
      left: 20px;
      z-index: 2;
      color: #fff;
    }
    .card .info h2 {
      font-size: 24px;
      margin-bottom: 5px;
    }
    .card .info p {
      font-size: 16px;
    }
    /* "LIKE" and "NOPE" indicators that appear during swipes */
    .card .like,
    .card .dislike {
      position: absolute;
      top: 20px;
      font-size: 32px;
      font-weight: bold;
      padding: 10px 20px;
      border: 4px solid;
      border-radius: 10px;
      opacity: 0;
      z-index: 3;
    }
    .card .like {
      left: 20px;
      color: #00e676;
      border-color: #00e676;
      transform: rotate(-20deg);
    }
    .card .dislike {
      right: 20px;
      color: #ff1744;
      border-color: #ff1744;
      transform: rotate(20deg);
    }
    /* Message shown when there are no more profiles */
    #no-more {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      color: #555;
    }
  </style>
</head>
<body>
  <!-- Container for the cards -->
  <div id="card-container"></div>

  <script>
    /* Array of five profile objects (feel free to replace the images/values) */
    const profiles = [
      { name: "Alice", age: 28, img: "https://source.unsplash.com/collection/190727/400x600?sig=1" },
      { name: "Bella", age: 26, img: "https://source.unsplash.com/collection/190727/400x600?sig=2" },
      { name: "Cara",  age: 30, img: "https://source.unsplash.com/collection/190727/400x600?sig=3" },
      { name: "Diana", age: 25, img: "https://source.unsplash.com/collection/190727/400x600?sig=4" },
      { name: "Eva",   age: 29, img: "https://source.unsplash.com/collection/190727/400x600?sig=5" }
    ];

    const container = document.getElementById('card-container');

    // Create and add cards in reverse order so that the first profile is on top.
    profiles.reverse().forEach(profile => {
      const card = createCard(profile);
      container.appendChild(card);
    });

    // Function to create a card element with profile info and swipe listeners.
    function createCard(profile) {
      const card = document.createElement('div');
      card.className = 'card';
      card.style.backgroundImage = `url(${profile.img})`;

      // Create the info element (name, age)
      const info = document.createElement('div');
      info.className = 'info';
      info.innerHTML = `<h2>${profile.name}, ${profile.age}</h2>`;
      card.appendChild(info);

      // Create the "LIKE" indicator
      const like = document.createElement('div');
      like.className = 'like';
      like.textContent = "LIKE";
      card.appendChild(like);

      // Create the "NOPE" indicator
      const dislike = document.createElement('div');
      dislike.className = 'dislike';
      dislike.textContent = "NOPE";
      card.appendChild(dislike);

      // Add touch (swipe) event listeners to this card.
      addSwipeListeners(card);
      return card;
    }

    // Function to add swipe behavior to a card
    function addSwipeListeners(card) {
      let startX = 0;
      let startY = 0;
      let currentX = 0;
      let currentY = 0;
      let offsetX = 0;

      // On touch start, record the initial position.
      card.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
        card.style.transition = ''; // Remove any previous transition
      }, { passive: true });

      // On touch move, calculate the offset and apply a translation & rotation.
      card.addEventListener('touchmove', (e) => {
        currentX = e.touches[0].clientX;
        currentY = e.touches[0].clientY;
        offsetX = currentX - startX;
        const offsetY = currentY - startY;
        // Rotate a bit as the card is dragged horizontally.
        const rotation = offsetX * 0.1;
        card.style.transform = `translate(${offsetX}px, ${offsetY}px) rotate(${rotation}deg)`;

        // Update the opacity of the like/dislike labels based on swipe direction.
        const like = card.querySelector('.like');
        const dislike = card.querySelector('.dislike');
        if (offsetX > 0) {
          like.style.opacity = Math.min(offsetX / 100, 1);
          dislike.style.opacity = 0;
        } else if (offsetX < 0) {
          dislike.style.opacity = Math.min(-offsetX / 100, 1);
          like.style.opacity = 0;
        }
      }, { passive: true });

      // When the touch ends, determine whether to accept the swipe or snap back.
      card.addEventListener('touchend', () => {
        // If the horizontal movement is more than 100px, consider it a swipe.
        if (Math.abs(offsetX) > 100) {
          const direction = offsetX > 0 ? 1 : -1;
          card.style.transition = 'transform 0.5s ease-out, opacity 0.5s ease-out';
          // Animate the card off-screen.
          card.style.transform = `translate(${direction * window.innerWidth}px, 0px) rotate(${direction * 45}deg)`;
          card.style.opacity = 0;
          // Remove the card after the animation completes.
          setTimeout(() => {
            card.remove();
            if (container.children.length === 0) {
              showNoMoreProfiles();
            }
          }, 500);
        } else {
          // If not swiped far enough, reset the card position.
          card.style.transition = 'transform 0.3s ease-out';
          card.style.transform = 'translate(0px, 0px) rotate(0deg)';
          // Hide the indicators.
          const like = card.querySelector('.like');
          const dislike = card.querySelector('.dislike');
          like.style.opacity = 0;
          dislike.style.opacity = 0;
        }
      });
    }

    // Function to display a message when there are no more profiles.
    function showNoMoreProfiles() {
      const message = document.createElement('div');
      message.id = 'no-more';
      message.textContent = "No more profiles";
      container.appendChild(message);
    }
  </script>
</body>
</html>


