<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Set the viewport for a mobile-friendly experience -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Swipe Cards Demo</title>
  <style>
    /* Reset and basic styles */
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: #f0f2f5;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }
    /* Container holding all cards */
    #card-container {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
    }
    /* Each card styling */
    .card {
      position: absolute;
      width: 90%;
      max-width: 400px;
      height: 70%;
      left: 50%;
      top: 50%;
      /* Center the card */
      transform: translate(-50%, -50%);
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      /* Smooth transition for snapping back or swiping off */
      transition: transform 0.3s ease-out;
      /* Prevent text selection during swiping */
      user-select: none;
    }
    /* Card image styling */
    .card img {
      width: 100%;
      height: auto;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }
    /* Card info (name) styling */
    .card-info {
      padding: 15px;
      font-size: 22px;
      text-align: center;
    }
    /* “No more profiles” message styling */
    .no-more {
      position: absolute;
      width: 100%;
      height: 100vh;
      top: 0;
      left: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: #333;
    }
  </style>
</head>
<body>
  <!-- Container for the swipeable cards -->
  <div id="card-container"></div>

  <script>
    // Set a threshold in pixels for a successful swipe
    const swipeThreshold = 100; 

    // These functions use 'this' to refer to the card element being touched.
    function handleTouchStart(e) {
      // Remove any ongoing transition so the card follows your finger
      this.style.transition = '';
      // Store the starting X/Y coordinates on the card element
      this.startX = e.touches[0].clientX;
      this.startY = e.touches[0].clientY;
      // Attach move and end listeners to this card
      this.addEventListener('touchmove', handleTouchMove);
      this.addEventListener('touchend', handleTouchEnd);
    }

    function handleTouchMove(e) {
      // Calculate how far the finger has moved from the start point
      const dx = e.touches[0].clientX - this.startX;
      const dy = e.touches[0].clientY - this.startY;
      // Rotate a bit for a natural feel (rotation is proportional to horizontal movement)
      this.style.transform = `translate(${dx}px, ${dy}px) rotate(${dx / 10}deg)`;
    }

    function handleTouchEnd(e) {
      // Remove the move and end listeners now that the touch is finished
      this.removeEventListener('touchmove', handleTouchMove);
      this.removeEventListener('touchend', handleTouchEnd);

      const dx = e.changedTouches[0].clientX - this.startX;
      // Check if the horizontal movement is more than the threshold
      if (Math.abs(dx) > swipeThreshold) {
        // Determine which direction and swipe the card off screen
        const toX = dx > 0 ? window.innerWidth : -window.innerWidth;
        this.style.transition = 'transform 0.3s ease-out';
        this.style.transform = `translate(${toX}px, 0px) rotate(${dx / 10}deg)`;
        // After the transition ends, remove the card and update the top card
        this.addEventListener('transitionend', function () {
          this.remove();
          updateTopCard();
        }, { once: true });
      } else {
        // If not swiped far enough, snap back to the original center position
        this.style.transition = 'transform 0.3s ease-out';
        this.style.transform = '';
        // Clean up after the snap-back animation completes
        this.addEventListener('transitionend', function () {
          this.style.transition = '';
        }, { once: true });
      }
    }

    // After a card is removed, attach the touchstart listener to the new top card.
    function updateTopCard() {
      const cards = document.querySelectorAll('.card');
      if (cards.length > 0) {
        // The top card is the last one in the container (highest z-index)
        const topCard = cards[cards.length - 1];
        topCard.addEventListener('touchstart', handleTouchStart);
      } else {
        // If there are no cards left, show a message.
        showNoMoreProfiles();
      }
    }

    function showNoMoreProfiles() {
      const container = document.getElementById('card-container');
      const message = document.createElement('div');
      message.className = 'no-more';
      message.textContent = 'No more profiles';
      container.appendChild(message);
    }

    // When the DOM is loaded, create our card elements.
    document.addEventListener('DOMContentLoaded', function () {
      // Array of profile objects (each with a name and an image URL).
      const profiles = [
        { name: "Alice", image: "https://via.placeholder.com/400x600?text=Alice" },
       

