<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Ensures proper scaling on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Swipe for Love</title>
  <style>
    /* Basic reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Use a minimal system font like Apple’s */
    body {
      background: #fff;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      overflow: hidden;
      position: relative;
      height: 100vh;
    }

    /* Container holding all the cards */
    #card-container {
      position: relative;
      width: 100%;
      height: 100%;
    }

    /* Card styling – clean, rounded, and subtle shadow */
    .card {
      position: absolute;
      width: 90%;
      max-width: 400px;
      height: 70vh;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-size: cover;
      background-position: center;
      border-radius: 16px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      transition: transform 0.3s ease-out, opacity 0.3s ease-out;
    }

    /* “LIKE” and “NOPE” labels (styled minimally) */
    .card .like,
    .card .dislike {
      position: absolute;
      top: 20px;
      font-size: 24px;
      font-weight: bold;
      padding: 8px 16px;
      border: 2px solid;
      border-radius: 8px;
      opacity: 0;
      z-index: 3;
      user-select: none;
    }
    .card .like {
      left: 20px;
      color: #28a745;
      border-color: #28a745;
      transform: rotate(-15deg);
    }
    .card .dislike {
      right: 20px;
      color: #dc3545;
      border-color: #dc3545;
      transform: rotate(15deg);
    }

    /* Final message styling */
    #no-more {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 32px;
      color: #333;
      text-align: center;
      padding: 20px;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <!-- The container for swipe cards -->
  <div id="card-container"></div>

  <script>
    // Replace these image URLs with actual photos of her.
    const profiles = [
      { img: "https://source.unsplash.com/random/400x600?face&sig=1" },
      { img: "https://source.unsplash.com/random/400x600?face&sig=2" },
      { img: "https://source.unsplash.com/random/400x600?face&sig=3" },
      { img: "https://source.unsplash.com/random/400x600?face&sig=4" },
      { img: "https://source.unsplash.com/random/400x600?face&sig=5" }
    ];

    const container = document.getElementById('card-container');

    // Reverse the array so that the first photo is on top.
    profiles.reverse().forEach(profile => {
      const card = createCard(profile);
      container.appendChild(card);
    });

    // Creates a swipeable card element.
    function createCard(profile) {
      const card = document.createElement('div');
      card.className = 'card';
      card.style.backgroundImage = `url(${profile.img})`;

      // Create the "LIKE" indicator
      const like = document.createElement('div');
      like.className = 'like';
      like.textContent = "LIKE";
      card.appendChild(like);

      // Create the "NOPE" indicator
      const dislike = document.createElement('div');
      dislike.className = 'dislike';
      dislike.textContent = "NOPE";
      card.appendChild(dislike);

      addSwipeListeners(card);
      return card;
    }

    // Adds touch-based swipe functionality to a card.
    function addSwipeListeners(card) {
      let startX = 0;
      let startY = 0;
      let currentX = 0;
      let currentY = 0;
      let offsetX = 0;

      card.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
        card.style.transition = ''; // Remove transition for immediate response.
      }, { passive: true });

      card.addEventListener('touchmove', (e) => {
        currentX = e.touches[0].clientX;
        currentY = e.touches[0].clientY;
        offsetX = currentX - startX;
        const offsetY = currentY - startY;
        const rotation = offsetX * 0.1;
        card.style.transform = `translate(${offsetX}px, ${offsetY}px) rotate(${rotation}deg)`;

        // Update the opacity of the like/dislike labels.
        const like = card.querySelector('.like');
        const dislike = card.querySelector('.dislike');
        if (offsetX > 0) {
          like.style.opacity = Math.min(offsetX / 100, 1);
          dislike.style.opacity = 0;
        } else if (offsetX < 0) {
          dislike.style.opacity = Math.min(-offsetX / 100, 1);
          like.style.opacity = 0;
        }
      }, { passive: true });

      card.addEventListener('touchend', () => {
        // If swiped more than 100px horizontally, remove the card.
        if (Math.abs(offsetX) > 100) {
          const direction = offsetX > 0 ? 1 : -1;
          card.style.transition = 'transform 0.5s ease-out, opacity 0.5s ease-out';
          card.style.transform = `translate(${direction * window.innerWidth}px, 0px) rotate(${direction * 45}deg)`;
          card.style.opacity = 0;
          setTimeout(() => {
            card.remove();
            if (container.children.length === 0) {
              showFinalMessage();
            }
          }, 500);
        } else {
          // Snap back if not swiped far enough.
          card.style.transition = 'transform 0.3s ease-out';
          card.style.transform = 'translate(0px, 0px) rotate(0deg)';
          card.querySelector('.like').style.opacity = 0;
          card.querySelector('.dislike').style.opacity = 0;
        }
      });
    }

    // Displays the final "I love you" message.
    function showFinalMessage() {
      const message = document.createElement('div');
      message.id = 'no-more';
      message.innerHTML = "I love you <br> ❤️";
      container.appendChild(message);
    }
  </script>
</body>
</html>
